// 3ï¸âƒ£ DÃ©corateur abstrait (FormatterDecorator) corrigÃ©
public abstract with sharing class FormatterDecorator implements IReportFormatter {
    protected IReportFormatter wrappee;

    public FormatterDecorator(IReportFormatter toWrap) {
        // System.debug('ğŸŒ€ FormatterDecorator wrapping: ' + toWrap.getClass());
        System.debug('ğŸŒ€ FormatterDecorator wrapping: ' + toWrap);
        this.wrappee = toWrap;
    }

    public virtual List<String> format(Opportunity opp) {
        // System.debug('ğŸŒ€ FormatterDecorator delegating to ' + wrappee.getClass());
        System.debug('ğŸŒ€ FormatterDecorator delegating to ' + wrappee);
        return wrappee.format(opp);
    }
}

